  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_canvas_plugins_on_name" ON "canvas_plugins" ("name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:29:00.504611', '2025-03-10 17:29:00.504613') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:29:00 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:29:00 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_canvas_plugins_on_name" ON "canvas_plugins" ("name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:30:27.584611', '2025-03-10 17:30:27.584613') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:30:27 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:30:27 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_canvas_plugins_on_name" ON "canvas_plugins" ("name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:31:22.866686', '2025-03-10 17:31:22.866689') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:31:22 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:31:22 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_canvas_plugins_on_name" ON "canvas_plugins" ("name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:36:41.272832', '2025-03-10 17:36:41.272834') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:36:41 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_canvas_plugins_on_name" ON "canvas_plugins" ("name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:38:57.800189', '2025-03-10 17:38:57.800192') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:38:57 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_canvas_plugins_on_name" ON "canvas_plugins" ("name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:39:33.650242', '2025-03-10 17:39:33.650245') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:39:33 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:44:46.031361', '2025-03-10 17:44:46.031363') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:44:46 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:46:01.180248', '2025-03-10 17:46:01.180250') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:46:01 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCanvas::Plugin Load (3.7ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:48:03.461693', '2025-03-10 17:48:03.461695') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:48:03 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:49:51.836724', '2025-03-10 17:49:51.836727') RETURNING "key"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Create (0.2ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:57:48.971635', '2025-03-10 17:57:48.971638') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:57:49 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:57:49 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 17:59:28.001462', '2025-03-10 17:59:28.001465') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:59:28 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 13:59:28 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:00:11.859157', '2025-03-10 18:00:11.859160') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:00:11 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:00:11 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:00:34.083885', '2025-03-10 18:00:34.083888') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:00:34 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:00:34 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:01:15.888308', '2025-03-10 18:01:15.888311') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:01:15 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:01:15 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:04:12.276023', '2025-03-10 18:04:12.276026') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:04:12 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:04:12 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:09:14.630404', '2025-03-10 18:09:14.630407') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:09:57.610734', '2025-03-10 18:09:57.610736') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:09:57 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:09:57 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:10:34.781877', '2025-03-10 18:10:34.781879') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:10:34 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:10:34 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310164339)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:11:38.186727', '2025-03-10 18:11:38.186730') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/42" for 127.0.0.1 at 2025-03-10 14:11:38 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"42"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 49904ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 53.3ms)
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:19:48.206971', '2025-03-10 18:19:48.206974') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:20:32.516606', '2025-03-10 18:20:32.516609') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:20:32 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 9222ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 54.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:20:41 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:37:39.558540', '2025-03-10 18:37:39.558542') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.3ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:37:39 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 16525ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 54.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:37:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:38:36.193867', '2025-03-10 18:38:36.193870') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.2ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:38:36 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:38:36 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:39:56.694784', '2025-03-10 18:39:56.694786') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:39:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:39:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:40:34.386131', '2025-03-10 18:40:34.386133') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:40:34 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000108c3adf8> rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:40:34 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:48:28.199413', '2025-03-10 18:48:28.199416') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:48:28 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010b8125e8> rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:48:28 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010b8125e8> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 14:48:28 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 0], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 14:48:28 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 14:48:28 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:51:59.872065', '2025-03-10 18:51:59.872067') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:51:59 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000107378d88> rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:51:59 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000107378d88> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:51:59 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 14:51:59 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 14:51:59 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:53:01.629707', '2025-03-10 18:53:01.629710') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:53:01 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000109f96668> rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:53:29.774875', '2025-03-10 18:53:29.774878') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:53:29 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.1ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mCACHE Attachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 58968ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 1.5ms)
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:58:08.933726', '2025-03-10 18:58:08.933729') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:58:09 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000107d05f68> rendered or redirected
Completed 302 Found in 1558ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.2ms)[0m  [1m[31mDELETE FROM "[:attachments]"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:59:31.694140', '2025-03-10 18:59:31.694143') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:59:31 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010dd343f8> rendered or redirected
Completed 302 Found in 2306ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.3ms)[0m  [1m[31mDELETE FROM "[""attachments""]"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 18:59:52.829054', '2025-03-10 18:59:52.829057') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 14:59:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010e6dd580> rendered or redirected
Completed 302 Found in 1519ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:00:01.971320', '2025-03-10 19:00:01.971323') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:00:02 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010aecd730> rendered or redirected
Completed 302 Found in 1615ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.1ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.2ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:00:03 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010aecd730> rendered or redirected
Completed 302 Found in 836ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 41.1ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:00:04 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1680ms (Views: 7.4ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:00:06 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 745ms (Views: 1.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 12.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:00:06 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 695ms (Views: 0.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:00:16.025694', '2025-03-10 19:00:16.025697') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:00:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.2ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 37569ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.2ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:03:18.800931', '2025-03-10 19:03:18.800934') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:03:18 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000109805610> rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:03:23.860288', '2025-03-10 19:03:23.860291') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:03:23 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010c766c60> rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.2ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:03:23 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010c766c60> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAttachment Load (0.1ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:03:42 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 4194ms (Views: 4.3ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 39.8ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:03:46 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 898ms (Views: 1.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:03:47 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 691ms (Views: 1.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 13.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:04:44.911081', '2025-03-10 19:04:44.911086') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.4ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:04:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010965e370> rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.2ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:04:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:04:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:04:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:04:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:18:51.849290', '2025-03-10 19:18:51.849292') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:18:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010d731a00> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:18:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:18:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:18:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:18:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:21:19.109075', '2025-03-10 19:21:19.109078') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:21:19 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010ae821b8> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:21:19 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:21:19 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:21:19 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:21:19 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:26:00.370712', '2025-03-10 19:26:00.370715') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.2ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:26:00 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010b602b18> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:26:00 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:26:00 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:26:00 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:26:00 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:28:52.928799', '2025-03-10 19:28:52.928801') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:28:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000011176e708> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:28:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:28:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:28:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:28:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:29:30.272521', '2025-03-10 19:29:30.272524') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.3ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:29:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010aa4a500> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:29:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:29:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:29:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:29:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:30:18.013160', '2025-03-10 19:30:18.013162') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:30:18 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000115dfe038> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:30:18 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:30:18 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:30:18 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:30:18 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:30:47.670424', '2025-03-10 19:30:47.670426') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:30:47 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000113b36fa0> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:30:47 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Canvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCACHE Attachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:30:47 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Canvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCACHE Attachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:30:47 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCACHE Canvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:30:47 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCACHE Canvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (2 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:31:52.219093', '2025-03-10 19:31:52.219096') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCanvas::Plugin Load (0.2ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.2ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:32:01 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.2ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.1ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010c64f4d0> rendered or redirected
Completed 302 Found in 3294ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.1ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.3ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.2ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:32:04 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.2ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.1ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Canvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCACHE Attachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 5285ms (Views: 0.4ms | ActiveRecord: 0.5ms (4 queries, 2 cached) | GC: 36.3ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:32:10 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.2ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Canvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCACHE Attachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 4703ms (Views: 0.6ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 66.0ms)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.3ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.2ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:32:14 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCACHE Canvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 4546ms (Views: 0.5ms | ActiveRecord: 0.1ms (2 queries, 1 cached) | GC: 12.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:32:19 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.3ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mCACHE Canvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 3988ms (Views: 0.5ms | ActiveRecord: 0.3ms (2 queries, 1 cached) | GC: 10.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:34:01.610050', '2025-03-10 19:34:01.610053') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.2ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:34:01 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000108c64a18> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:34:01 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:34:01 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:34:01 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:34:01 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:50:45.614829', '2025-03-10 19:50:45.614832') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:50:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010c2f9448> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:50:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:50:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:50:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:50:45 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:51:06.591724', '2025-03-10 19:51:06.591727') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:51:20.445694', '2025-03-10 19:51:20.445697') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:51:20 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x00000001091c8978> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:51:20 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:51:20 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.2ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:51:20 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:51:20 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 19:52:40.110573', '2025-03-10 19:52:40.110575') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:52:40 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x00000001114ecfe8> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:52:40 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 15:52:40 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:52:40 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 15:52:40 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 20:01:35.611307', '2025-03-10 20:01:35.611310') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 20:01:50.833058', '2025-03-10 20:01:50.833060') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:01:50 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010f63ed58> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:01:50 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:01:50 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:01:50 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:01:50 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 20:02:07.120858', '2025-03-10 20:02:07.120861') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.2ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:02:07 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x00000001132df2a8> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:02:07 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:02:07 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:02:07 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:02:07 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 20:09:51.390408', '2025-03-10 20:09:51.390410') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:09:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x0000000119705570> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:09:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:09:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:09:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:09:51 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 20:12:32.511329', '2025-03-10 20:12:32.511332') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:12:32 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010f6bd900> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:12:32 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:12:32 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:12:32 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:12:32 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 20:12:54.157850', '2025-03-10 20:12:54.157853') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:12:54 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010d540c28> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:12:54 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:12:54 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:12:54 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:12:54 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 20:13:16.114777', '2025-03-10 20:13:16.114783') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:13:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010ae96f78> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:13:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:13:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:13:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:13:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-10 20:17:12.776881', '2025-03-10 20:17:12.776884') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:17:12 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010ad9fed0> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:17:12 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-10 16:17:12 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:17:12 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-10 16:17:12 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-11 14:24:44.280847', '2025-03-11 14:24:44.280850') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.2ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:24:44 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010b73b7c8> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:24:44 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:24:44 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:24:44 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:24:44 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:24:44 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:24:44 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-11 14:26:16.385148', '2025-03-11 14:26:16.385150') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:26:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010c08fc70> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:26:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:26:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:26:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:26:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":{},\"name\":{},\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:26:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:26:16 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-11 14:41:30.832083', '2025-03-11 14:41:30.832085') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:41:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010914a938> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:41:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:41:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:41:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:41:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:41:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:41:30 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-11 14:46:56.028942', '2025-03-11 14:46:56.028945') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.2ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:46:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010a861c98> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:46:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:46:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:46:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:46:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:46:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:46:56 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content_type" varchar NOT NULL, "url" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "canvas_plugins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "canvas_plugins" ("id" varchar NOT NULL PRIMARY KEY, "tag" varchar NOT NULL, "meta" varchar NOT NULL, "enabled" boolean)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250310181400)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-11 14:50:52.638709', '2025-03-11 14:50:52.638712') RETURNING "key"[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? ORDER BY "canvas_plugins"."id" ASC LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Create (0.1ms)[0m  [1m[32mINSERT INTO "canvas_plugins" ("id", "tag", "meta", "enabled") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["id", "canvas_inline_pdf"], ["tag", "previews"], ["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:50:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to https://www.example.com
Filter chain halted as #<CanvasInlinePdf::Plugin::OverrideFilePreview:0x000000010d604628> rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/javascript"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:50:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.1ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:50:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:50:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":true},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAttachment Create (0.1ms)[0m  [1m[32mINSERT INTO "attachments" ("content_type", "url") VALUES (?, ?) RETURNING "id"[0m  [["content_type", "application/pdf"], ["url", "https://www.example.com"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/1" for 127.0.0.1 at 2025-03-11 10:50:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"1"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mAttachment Load (0.0ms)[0m  [1m[34mSELECT "attachments".* FROM "attachments" WHERE "attachments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (0.0ms)[0m  [1m[31mDELETE FROM "attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "meta" = ?, "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["meta", "{\"author\":\"Ameelio\",\"description\":\"Canvas LMS Plugin to allow inline file preview for PDFS.\",\"name\":\"Inline PDF\",\"hide_from_users\":false,\"settings_partial\":\"canvas_inline_pdf/plugin_settings\",\"settings\":{\"override_file_preview\":false},\"version\":{\"version\":\"0.1.0\",\"segments\":[0,1,0],\"prerelease\":false,\"canonical_segments\":[0,1]}}"], ["enabled", 0], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCanvas::Plugin Update (0.1ms)[0m  [1m[33mUPDATE "canvas_plugins" SET "enabled" = ? WHERE "canvas_plugins"."id" = ?[0m  [["enabled", 1], ["id", "canvas_inline_pdf"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:50:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/file_previews/0" for 127.0.0.1 at 2025-03-11 10:50:52 -0400
Processing by FilePreviewsController#show as HTML
  Parameters: {"file_id"=>"0"}
  [1m[36mCanvas::Plugin Load (0.0ms)[0m  [1m[34mSELECT "canvas_plugins".* FROM "canvas_plugins" WHERE "canvas_plugins"."id" = ? LIMIT ?[0m  [["id", "canvas_inline_pdf"], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (Duration: 0.0ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
